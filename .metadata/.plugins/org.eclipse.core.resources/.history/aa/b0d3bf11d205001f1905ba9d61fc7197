<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="boardns">
	<resultMap type="community.model.dto.FileReadDto" id="FileReadDtoResultMap">
		<result column="COMMUNITY_ID" property="communityId"/>
		<result column="FILE_ID" property="fileId"/>
		<result column="FILE_PATH" property="filePath"/>
		<result column="FILE_ORIGINAL" property="fileOriginal"/>
	</resultMap>

	<select id="selectFileList" parameterType="int" resultMap="FileReadDtoResultMap">
		SELECT COMMUNITY_ID, FILE_ID, FILE_PATH, FILE_ORIGINAL   
		FROM FILES WHERE BOARD_ID=#{communityId}
	</select>
	
	<select id="selectcOMMUNITYReplyList" parameterType="int" resultType="community.model.dto.BoardReplyListDto">
		select BOARD_REPLY_ID,  BOARD_REPLY_WRITER,BOARD_REPLY_CONTENT, 
				BOARD_REPLY_WRITE_TIME, 
				BOARD_REPLY_LEVEL,BOARD_REPLY_REF, BOARD_REPLY_STEP
		from board_reply where board_id=#{boardId} order by board_reply_ref desc,  board_reply_step
	</select>
	<select id="selectTotalCount" resultType="int">
		select count(*) cnt from board
	</select>
	
	
	
</mapper>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="shopMapper">
	
	<select id="selectTotalCount" resultType="int">
		select count(*) cnt from board
	</select>
	
	<select id="selectPageList" resultType="BoardListDto" parameterType="map">
		select GAME_ID, NATIONAL_CODE,to_char(GAME_OPEN,'yyyy-mm-dd hh24:mi') WRITE_TIME ,BOARD_WRITER,READ_COUNT 
			from (select t1.*, rownum rn  
				from (SELECT GAME_ID, NATIONAL_CODE, GAME_IMG, GAME_NAME, GAME_PRICE,GAME_OPEN FROM SHOP JOIN GAME USING(GAME_ID) ORDER BY GAME_ID DESC;) t1 )
		where rn between #{startRownum} and #{endRownum}
	</select>
	
	
</mapper>